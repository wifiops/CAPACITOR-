<!DOCTYPE html>
<html>
<head>
    <title>Speech Recognition Test</title>
</head>
<body>
    <h1>Web Speech API Test</h1>
    <button id="startBtn">Start Recognition</button>
    <button id="stopBtn">Stop Recognition</button>
    <div id="status">Ready</div>
    <div id="result"></div>

    <script>
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        
        if (!SpeechRecognition) {
            document.getElementById('status').textContent = 'Speech Recognition NOT SUPPORTED in this browser';
        } else {
            document.getElementById('status').textContent = 'Speech Recognition is available';
            
            const recognition = new SpeechRecognition();
            recognition.continuous = true;
            recognition.interimResults = true;
            recognition.lang = 'en-US';

            recognition.onstart = () => {
                document.getElementById('status').textContent = 'Listening...';
            };

            recognition.onresult = (event) => {
                let transcript = '';
                for (let i = event.resultIndex; i < event.results.length; i++) {
                    transcript += event.results[i][0].transcript;
                }
                document.getElementById('result').textContent = transcript;
            };

            recognition.onerror = (event) => {
                document.getElementById('status').textContent = `ERROR: ${event.error}`;
                console.error('Speech recognition error:', event.error);
            };

            recognition.onend = () => {
                document.getElementById('status').textContent = 'Stopped';
            };

            document.getElementById('startBtn').onclick = () => {
                try {
                    recognition.start();
                } catch (e) {
                    document.getElementById('status').textContent = `Error starting: ${e.message}`;
                }
            };

            document.getElementById('stopBtn').onclick = () => {
                recognition.stop();
            };
        }
    </script>
</body>
</html>

